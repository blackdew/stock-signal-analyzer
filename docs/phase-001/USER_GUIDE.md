# 주식 신호 분석 앱 사용자 가이드

Phase 1 (변동성 분석 및 시장 필터) 사용자 가이드

**작성일**: 2025-10-25
**버전**: Phase 1 (v0.1.0)
**대상**: 일반 투자자

---

## 목차

1. [시작하기](#시작하기)
2. [Phase 1 주요 신기능](#phase-1-주요-신기능)
3. [웹 대시보드 활용법](#웹-대시보드-활용법)
4. [신호 해석 가이드](#신호-해석-가이드)
5. [실전 활용 시나리오](#실전-활용-시나리오)
6. [FAQ](#faq)
7. [주의사항](#주의사항)

---

## 시작하기

### 빠른 시작 (3단계)

```bash
# 1단계: 웹 대시보드 실행
uv run main.py --web

# 2단계: 브라우저에서 자동으로 열림 (http://localhost:8002/dashboard.html)
# 3단계: 분석 결과 확인!
```

### 포트폴리오 설정

가장 쉬운 방법은 CSV 파일을 사용하는 것입니다:

1. **CSV 파일 생성** (엑셀에서 편집 가능)
   ```csv
   종목코드,매수가격,수량,종목명
   005930,71000,150,삼성전자
   000660,120000,30,SK하이닉스
   035420,195000,40,NAVER
   ```

2. **파일 저장**
   - 파일명: `myportfolio/YYYYMMDD.csv` (예: `20251025.csv`)
   - 위치: 프로젝트 루트의 `myportfolio/` 디렉토리

3. **자동 감지**
   - 프로그램이 자동으로 최신 날짜 파일을 찾아서 사용합니다
   - 따로 옵션을 지정할 필요가 없습니다

---

## Phase 1 주요 신기능

### 1. 변동성 기반 동적 분석

**무엇이 달라졌나요?**

기존에는 모든 종목에 동일한 기준(15%)을 적용했습니다. 이제는 종목의 변동성에 따라 기준이 자동으로 조정됩니다.

**실제 예시:**

| 종목 | 변동성 등급 | 기존 무릎 임계값 | 신규 무릎 임계값 | 효과 |
|------|------------|----------------|----------------|------|
| 삼성전자 | LOW | 바닥 대비 15% | 바닥 대비 12% | 작은 움직임도 감지 |
| SK하이닉스 | MEDIUM | 바닥 대비 15% | 바닥 대비 15% | 기존과 동일 |
| 바이오 종목 | HIGH | 바닥 대비 15% | 바닥 대비 19.5% | 노이즈 필터링 |

**어떻게 확인하나요?**

웹 대시보드의 종목 상세 정보에서 확인할 수 있습니다:

```
변동성 정보:
- 등급: HIGH (고변동성)
- ATR: 2,450원 (최근 14일 평균 변동폭)
- 조정계수: 1.3x (임계값 30% 확대)

동적 무릎 임계값: 52,450원 (기존: 50,500원)
```

**투자자에게 의미:**
- 저변동성 종목: 더 민감하게 매수 신호 포착
- 고변동성 종목: 잘못된 신호 감소, 진짜 기회만 알림

---

### 2. 시장 필터

**무엇이 달라졌나요?**

KOSPI 지수의 추세를 분석하여 매수/매도 점수를 자동으로 조정합니다.

**시장 국면 판단 기준:**

- **상승장 (BULL)**: KOSPI MA20 > MA60 (차이 2% 이상)
- **하락장 (BEAR)**: KOSPI MA20 < MA60 (차이 -2% 이하)
- **횡보장 (SIDEWAYS)**: 차이 ±2% 이내

**점수 조정 규칙:**

| 시장 상황 | 매수 신호 | 매도 신호 |
|----------|----------|----------|
| 하락장 (BEAR) | -50% (강력 매수 제외) | +20% |
| 상승장 (BULL) | +10% | -30% (강력 매도 제외) |
| 횡보장 (SIDEWAYS) | 변화 없음 | 변화 없음 |

**실제 예시:**

```
원본 점수:
- 매수 점수: 60점
- 매도 점수: 20점

하락장일 때:
- 매수 조정 점수: 30점 (60 × 0.5)
- 매도 조정 점수: 24점 (20 × 1.2)
→ 액션: HOLD (둘 다 약한 신호)

상승장일 때:
- 매수 조정 점수: 66점 (60 × 1.1)
- 매도 조정 점수: 14점 (20 × 0.7)
→ 액션: BUY (매수 신호가 명확히 우위)
```

**투자자에게 의미:**
- 하락장에서 무분별한 매수 방지
- 상승장에서 매수 기회 적극 활용
- 시장 흐름에 역행하는 거래 감소

---

### 3. 스마트 액션 결정

**무엇이 달라졌나요?**

약한 신호는 자동으로 필터링되어 "관망(HOLD)"으로 분류됩니다.

**필터링 조건:**

1. **최소 점수 기준**: 30점 이상
2. **명확한 우위**: 한쪽이 다른 쪽보다 10점 이상 높아야 함

**실제 예시:**

| 매수 점수 | 매도 점수 | 기존 액션 | 신규 액션 | 이유 |
|----------|----------|----------|----------|------|
| 60 | 25 | BUY | BUY | 매수 ≥30, 차이 ≥10 ✅ |
| 30 | 28 | BUY | HOLD | 차이 < 10 ❌ |
| 25 | 15 | BUY | HOLD | 매수 < 30 ❌ |
| 45 | 50 | SELL | HOLD | 차이 < 10 ❌ |
| 20 | 60 | SELL | SELL | 매도 ≥30, 차이 ≥10 ✅ |

**웹 대시보드 필터 탭:**

- **매수 탭**: 명확한 매수 신호만 표시 (조정 점수 ≥30, 우위 ≥10)
- **매도 탭**: 명확한 매도 신호만 표시 (조정 점수 ≥30, 우위 ≥10)
- **관망 탭**: 애매한 신호 또는 약한 신호
- **전체 탭**: 모든 종목

**투자자에게 의미:**
- 과도한 매매 방지
- 명확한 신호에만 집중
- 불필요한 거래 비용 절감

---

## 웹 대시보드 활용법

### 메인 대시보드 (dashboard.html)

**1. 시장 상황 카드 (상단)**

```
📊 시장 상황
상승장 (BULL)
MA20: 2,650.5
MA60: 2,580.3
추세 차이: +2.72% ↗️
```

- **녹색 (BULL)**: 적극적 매수 전략 가능
- **빨간색 (BEAR)**: 신중한 접근 필요, 보유 종목 점검
- **회색 (SIDEWAYS)**: 관망 또는 선택적 매매

**2. 포트폴리오 요약**

```
총 투자금: 15,000,000원
현재 평가금액: 16,250,000원
수익률: +8.33% (+1,250,000원)
```

- 실시간 수익률 계산
- 매수가가 있는 종목만 집계

**3. 우선순위 종목 (상단 카드)**

매수/매도 우선순위 Top 5를 한눈에 보여줍니다.

**매수 우선순위 예시:**
```
1. 삼성전자 (005930) - 조정 점수: 66점
   바닥 대비 무릎 위치 + 거래량 급증 + 상승장 가산점

2. SK하이닉스 (000660) - 조정 점수: 58점
   RSI 과매도 + 골든크로스 임박
```

**매도 우선순위 예시:**
```
1. NAVER (035420) - 조정 점수: 72점
   천장 대비 어깨 위치 + RSI 과매수

2. 카카오 (035720) - 조정 점수: 48점
   데드크로스 + 거래량 감소 + 하락장 가산점
```

**4. 종목 상세 분석**

각 종목 카드를 클릭하면 상세 정보를 볼 수 있습니다:

- **가격 차트**: 최근 60일 주가 추이 (Chart.js)
- **변동성 정보**: ATR, 등급, 동적 임계값
- **매수 신호**: 각 신호별 점수 및 설명
- **매도 신호**: 각 신호별 점수 및 설명
- **손익 정보**: 매수가 대비 수익률, 손절가

**5. 필터링 기능**

상단 탭으로 종목을 필터링할 수 있습니다:

- **전체**: 모든 종목 표시
- **매수**: 명확한 매수 신호만 (조정 점수 ≥30, 우위 ≥10)
- **매도**: 명확한 매도 신호만 (조정 점수 ≥30, 우위 ≥10)
- **관망**: 애매한 신호 또는 약한 신호

---

### 리포트 히스토리 (history.html)

**목적**: 과거 분석 리포트를 조회하고 비교

**주요 기능:**

1. **리포트 목록**
   - 생성 날짜/시간
   - 분석 종목 수
   - 매수가 정보가 있는 종목 수
   - 포트폴리오 수익률
   - 총 수익금액

2. **리포트 선택**
   - 특정 리포트 클릭 → 대시보드에서 상세 보기
   - 과거 시점의 분석 결과 재확인

**활용 방법:**

```
예시: 2주 전 분석 리포트 확인
→ 당시 매수 신호가 나왔던 종목의 실제 수익률 검증
→ 신호의 정확도 평가
→ 투자 전략 개선
```

---

### 종목별 추이 분석 (trends.html)

**목적**: 개별 종목의 매수/매도 신호 변화와 가격 추이를 시각화

**사용 방법:**

1. **종목 선택**
   - 드롭다운에서 분석할 종목 선택
   - 자동으로 모든 종목 목록 로드

2. **기간 선택**
   - 최근 10개 리포트 (약 1주일)
   - 최근 20개 리포트 (약 2주일)
   - 최근 30개 리포트 (약 3주일)
   - 최근 60개 리포트 (약 1개월)

3. **4가지 차트 확인**

   **a) 가격 추이 차트**
   ```
   삼성전자 가격 변화:
   10월 1일: 70,000원
   10월 15일: 72,500원 (최고점)
   10월 25일: 71,800원
   ```

   **b) 매수/매도 점수 차트**
   ```
   원본 신호 점수 변화 추적:
   - 매수 점수: 40 → 60 → 30 (파란선)
   - 매도 점수: 20 → 25 → 50 (빨간선)
   ```

   **c) 시장 조정 점수 차트**
   ```
   시장 필터 적용 후 점수:
   - 상승장 기간: 매수 점수 증가
   - 하락장 기간: 매도 점수 증가
   ```

   **d) 수익률 차트** (매수가가 있는 경우)
   ```
   매수가: 70,000원
   수익률 변화:
   10월 1일: +2.5%
   10월 15일: +3.6% (최고)
   10월 25일: +2.6%
   ```

**실전 활용 예시:**

**시나리오 1: 매수 타이밍 검증**
```
삼성전자 추이 분석 (최근 30개 리포트):
- 10월 5일: 매수 점수 65점 (매수 신호)
- 당시 가격: 70,000원
- 현재 가격: 72,500원 (+3.6% 수익)
→ 결론: 신호가 정확했음, 다음에도 유사한 신호 시 신뢰 가능
```

**시나리오 2: 매도 타이밍 분석**
```
SK하이닉스 추이 분석:
- 10월 10일: 매도 점수 70점 (매도 신호)
- 당시 가격: 125,000원
- 이후 가격: 120,000원으로 하락
→ 결론: 매도 신호를 따랐다면 손실 방지
```

**시나리오 3: 시장 필터 효과 분석**
```
NAVER 추이 분석:
- 하락장 기간 (10월 1~10일)
  - 원본 매수 점수: 50점
  - 조정 매수 점수: 25점 (50% 감점)
  → 매수 신호 억제됨

- 상승장 전환 (10월 11일~)
  - 원본 매수 점수: 55점
  - 조정 매수 점수: 60.5점 (10% 가산)
  → 매수 신호 강화됨

→ 결론: 시장 필터가 잘못된 타이밍의 매수를 방지
```

---

## 신호 해석 가이드

### 매수 신호 해석

**1. 바닥 대비 무릎 위치 (동적)**

```
종목: 삼성전자
변동성: LOW (조정계수 0.8x)
바닥 가격: 68,000원
동적 무릎 임계값: 69,800원
현재가: 70,000원
→ 무릎 위치 도달 ✅
```

**의미:**
- 최근 60일 최저가 근처에서 반등 시작
- 저변동성 종목이므로 작은 상승도 의미 있음
- 추가 하락 여력 제한적

**투자 판단:**
- 긍정적 신호, 분할 매수 검토
- 손절가(68,000 × 0.93 = 63,240원) 설정 필수

---

**2. RSI 과매도**

```
RSI: 28
기준: 30 이하
→ 과매도 ✅
```

**의미:**
- 최근 매도 압력이 과도하게 강했음
- 반등 가능성 높음
- 단기 조정 후 상승 기대

**주의사항:**
- RSI만으로 판단하지 말 것
- 다른 신호와 함께 확인 필요

---

**3. 거래량 급증**

```
평균 거래량: 10,000,000주
현재 거래량: 25,000,000주 (2.5배)
→ 거래량 급증 ✅
```

**의미:**
- 큰 손의 매수 신호일 수 있음
- 관심도 증가, 모멘텀 형성
- 추세 전환 가능성

**주의사항:**
- 급락 시 거래량 급증도 있으므로 가격 흐름 함께 확인
- 단기적 현상일 수 있음

---

**4. 골든크로스**

```
MA20: 70,500원 (상승 중)
MA60: 70,000원
MA20 > MA60 (최근 돌파)
→ 골든크로스 ✅
```

**의미:**
- 중기 추세가 상승으로 전환
- 기술적으로 강한 매수 신호
- 추세 지속 가능성 높음

---

**5. 시장 조정 점수**

```
원본 매수 점수: 60점
시장 상황: 상승장 (BULL)
조정 매수 점수: 66점 (+10%)
→ 시장 환경 유리 ✅
```

**의미:**
- 전체 시장이 상승 중이므로 개별 종목도 유리
- 시장의 힘을 받아 상승 가능성 증가

---

### 매도 신호 해석

**1. 천장 대비 어깨 위치 (동적)**

```
종목: 바이오 종목
변동성: HIGH (조정계수 1.3x)
천장 가격: 100,000원
동적 어깨 임계값: 93,650원
현재가: 93,000원
→ 어깨 위치 도달 ✅
```

**의미:**
- 최근 60일 최고가 근처에서 하락 시작
- 고변동성 종목이므로 큰 조정 가능
- 추가 상승 여력 제한적

**투자 판단:**
- 분할 매도 검토
- 이익 실현 타이밍

---

**2. RSI 과매수**

```
RSI: 75
기준: 70 이상
→ 과매수 ✅
```

**의미:**
- 최근 매수 압력이 과도하게 강했음
- 조정 가능성 높음
- 단기 과열 상태

---

**3. 거래량 감소**

```
평균 거래량: 15,000,000주
현재 거래량: 9,000,000주 (60%)
→ 거래량 감소 ✅
```

**의미:**
- 매수 관심도 감소
- 상승 모멘텀 약화
- 추세 전환 가능성

---

**4. 데드크로스**

```
MA20: 95,000원 (하락 중)
MA60: 96,000원
MA20 < MA60 (최근 하향 돌파)
→ 데드크로스 ✅
```

**의미:**
- 중기 추세가 하락으로 전환
- 기술적으로 강한 매도 신호
- 하락 추세 지속 가능성 높음

---

**5. 매도 전략 추천**

```
수익률: +15%
변동성: MEDIUM
추천: 전량 매도

이유:
- 목표 수익률(15%) 달성
- 중간 변동성 종목
- 이익 실현 후 재진입 전략 유리
```

**전량 매도 권장:**
- 수익률 +30% 이상
- 변동성 LOW~MEDIUM
- 강한 매도 신호 (점수 80점 이상)

**분할 매도 권장:**
- 수익률 +15~30%
- 변동성 HIGH
- 중간 매도 신호 (점수 50~80점)

---

## 실전 활용 시나리오

### 시나리오 1: 하락장에서 저가 매수 기회 찾기

**상황:**
- KOSPI 하락장 (BEAR)
- 전체 시장 약세
- 종목들 대부분 하락

**전략:**

1. **웹 대시보드 접속**
   ```bash
   uv run main.py --web
   ```

2. **시장 상황 확인**
   ```
   📊 시장 상황: 하락장 (BEAR)
   MA20: 2,450.5
   MA60: 2,580.3
   추세 차이: -5.03% ↘️
   ```
   → 하락장 확인, 신중한 접근 필요

3. **매수 탭 확인**
   - 강력 매수 신호 종목만 표시됨 (조정 점수 ≥30)
   - 하락장에서도 살아남은 신호는 신뢰도 높음

4. **우선순위 종목 검토**
   ```
   1. 삼성전자 (005930) - 조정 점수: 45점
      원본 점수: 90점 → 조정 점수: 45점 (50% 감점)

      신호:
      - 바닥 대비 무릎 위치
      - RSI 과매도 (25)
      - 거래량 급증 (3배)
      - 골든크로스

      분석:
      - 원본 점수가 90점으로 매우 강력
      - 하락장 감점 후에도 45점으로 유의미
      - 4개 매수 신호 모두 충족
   ```

5. **추이 분석으로 검증**
   - trends.html에서 삼성전자 선택
   - 최근 30개 리포트 조회
   - 과거 하락장에서 유사한 신호가 나왔을 때 수익률 확인

6. **투자 결정**
   ```
   종목: 삼성전자 (005930)
   매수 방법: 분할 매수 (3회)
   목표가: +15~20%
   손절가: -7% (자동 계산된 손절가 참고)
   ```

---

### 시나리오 2: 상승장에서 보유 종목 점검

**상황:**
- KOSPI 상승장 (BULL)
- 보유 종목 수익 중
- 매도 타이밍 고민

**전략:**

1. **시장 상황 확인**
   ```
   📊 시장 상황: 상승장 (BULL)
   MA20: 2,680.5
   MA60: 2,580.3
   추세 차이: +3.88% ↗️
   ```
   → 상승장 확인, 보유 유지가 유리할 수 있음

2. **매도 탭 확인**
   - 상승장에서도 매도 신호가 나오는 종목은 주의 필요
   - 강력 매도 신호 (원본 80점 이상)는 감점 없이 적용

3. **보유 종목 상세 분석**
   ```
   종목: SK하이닉스 (000660)
   매수가: 120,000원
   현재가: 135,000원
   수익률: +12.5%

   매도 신호:
   - 원본 점수: 65점
   - 조정 점수: 45.5점 (30% 감점)

   분석:
   - 천장 대비 어깨 위치
   - RSI 과매수 (72)
   - 데드크로스 임박

   판단:
   - 원본 점수 65점 (중간)
   - 상승장 감점으로 45.5점
   - 액션: HOLD (30점 이상이지만 우위 미달)
   ```

4. **투자 결정**
   ```
   결정: 보유 유지

   이유:
   - 상승장 중이므로 추가 상승 가능
   - 매도 신호가 약함 (조정 후 45.5점)
   - 목표 수익률(15%) 미달성

   액션:
   - 추적 손절 설정 (최고가 대비 -10%)
   - 일일 모니터링
   - 매도 조정 점수 60점 이상 시 분할 매도
   ```

---

### 시나리오 3: 고변동성 종목 매매

**상황:**
- 바이오/테마주 등 변동성이 큰 종목
- 잘못된 신호 많음
- 타이밍 중요

**전략:**

1. **종목 상세 정보 확인**
   ```
   종목: 바이오 종목

   변동성 정보:
   - 등급: HIGH (고변동성)
   - ATR: 3,200원 (평균 일일 변동폭)
   - 조정계수: 1.3x

   동적 임계값:
   - 바닥: 45,000원
   - 동적 무릎: 53,320원 (기존: 51,750원)
   - 현재가: 54,000원
   ```

2. **신호 해석**
   ```
   매수 점수: 70점

   신호:
   - 바닥 대비 무릎 위치 (동적 임계값)
   - 거래량 급증

   주의:
   - 고변동성 종목이므로 임계값이 넓게 설정됨
   - 53,320원 이상에서만 매수 신호 발생
   - 노이즈 필터링 효과
   ```

3. **추이 분석**
   - trends.html에서 해당 종목 조회
   - 최근 10개 리포트 확인
   - 과거 신호의 정확도 평가

4. **투자 결정**
   ```
   결정: 소액 분할 매수

   이유:
   - 동적 임계값 적용으로 신호 신뢰도 증가
   - 고변동성이므로 리스크 관리 필수

   리스크 관리:
   - 포트폴리오의 5% 이하 투자
   - 손절가 엄격히 준수 (-7%)
   - 목표 수익률 달성 시 즉시 매도
   ```

---

### 시나리오 4: 리포트 히스토리로 전략 검증

**상황:**
- 새로운 투자 전략 적용 전
- 과거 데이터로 백테스팅 필요

**전략:**

1. **히스토리 페이지 접속**
   ```
   http://localhost:8002/history.html
   ```

2. **분석 기간 선택**
   - 최근 1개월 (약 20개 리포트)
   - 상승장/하락장 모두 포함된 기간

3. **가상 투자 시뮬레이션**
   ```
   규칙:
   - 매수 조정 점수 60점 이상만 매수
   - 매도 조정 점수 60점 이상 시 매도
   - 각 종목 100만원씩 투자

   결과:
   10월 1일: 삼성전자 매수 (조정 점수 65)
   매수가: 70,000원

   10월 15일: 삼성전자 매도 (조정 점수 62)
   매도가: 72,500원
   수익: +3.6%

   10월 5일: SK하이닉스 매수 (조정 점수 68)
   매수가: 120,000원

   10월 20일: 보유 중
   현재가: 125,000원
   평가 수익: +4.2%
   ```

4. **전략 평가**
   ```
   승률: 80% (8승 2패)
   평균 수익률: +5.2%
   최대 손실: -4.5% (손절로 제한)

   결론:
   - 조정 점수 60점 이상 기준 유효
   - 손절 규칙 준수 시 손실 제한적
   - 실전 투자 적용 가능
   ```

---

## FAQ

### Q1. "조정 점수"와 "원본 점수"의 차이는 무엇인가요?

**A:**
- **원본 점수**: 종목 자체의 기술적 신호만 반영 (0-100점)
- **조정 점수**: 원본 점수 + 시장 필터 적용 (0-110점)

**예시:**
```
SK하이닉스 매수 신호:
- 원본 점수: 60점 (RSI 과매도 + 무릎 위치)
- 시장 상황: 상승장 (BULL)
- 조정 점수: 66점 (60 × 1.1)

→ 투자 결정은 "조정 점수"로 판단하는 것이 유리
```

---

### Q2. 변동성 등급은 어떻게 결정되나요?

**A:**
ATR (Average True Range, 14일 기준)을 기반으로 자동 분류됩니다.

```
계산 과정:
1. 종목의 ATR 계산 (예: 2,000원)
2. 평균 ATR 계산 (전체 종목 평균)
3. 비율 계산 (종목 ATR / 평균 ATR)

분류:
- 비율 < 0.7 → LOW (조정계수 0.8x)
- 0.7 ≤ 비율 ≤ 1.3 → MEDIUM (조정계수 1.0x)
- 비율 > 1.3 → HIGH (조정계수 1.3x)
```

**확인 방법:**
- 웹 대시보드 종목 상세 정보에서 "변동성 정보" 섹션 확인

---

### Q3. "무릎"과 "어깨"는 무엇을 의미하나요?

**A:**
머리-어깨 패턴에서 유래한 용어입니다.

```
천장 (Head, 머리)
  ↑
어깨 (Shoulder)
  ↑
중간
  ↓
무릎 (Knee)
  ↓
바닥 (Floor)
```

- **무릎**: 바닥에서 약간 올라온 위치 (매수 기회)
- **어깨**: 천장에서 약간 내려온 위치 (매도 기회)

**동적 임계값 예시:**
```
삼성전자 (저변동성):
- 바닥: 68,000원
- 무릎: 69,800원 (바닥 + 1,800원)
- 중간: 75,000원
- 어깨: 81,200원 (천장 - 1,800원)
- 천장: 83,000원

바이오 종목 (고변동성):
- 바닥: 45,000원
- 무릎: 53,320원 (바닥 + 8,320원)
- 중간: 65,000원
- 어깨: 76,680원 (천장 - 8,320원)
- 천장: 85,000원
```

---

### Q4. 손절가는 어떻게 계산되나요?

**A:**
매수가 대비 -7% 지점입니다.

```
공식: 손절가 = 매수가 × (1 - 0.07)

예시:
- 매수가: 100,000원
- 손절가: 93,000원 (100,000 × 0.93)

- 매수가: 75,000원
- 손절가: 69,750원 (75,000 × 0.93)
```

**손절가 준수가 중요한 이유:**
- 큰 손실 방지
- 감정적 판단 배제
- 자동화된 리스크 관리

---

### Q5. 추격매수 경고는 무엇인가요?

**A:**
바닥 대비 25% 이상 상승한 종목을 매수할 때 발생하는 경고입니다.

```
예시:
- 바닥 가격: 60,000원
- 현재가: 78,000원 (바닥 대비 +30%)
- 매수 점수: 60점
- 경고: ⚠️ 추격매수 위험 (바닥 대비 +30.0%)

의미:
- 이미 많이 올라서 조정 가능성
- 고점 매수 위험
- 신중한 접근 필요
```

**대응 방법:**
- 소액 분할 매수
- 손절가 더 가깝게 설정 (예: -5%)
- 단기 트레이딩 전략

---

### Q6. 포트폴리오 수익률이 0%로 나옵니다. 왜 그런가요?

**A:**
매수가 정보가 없는 종목은 수익률 계산에서 제외됩니다.

**확인 방법:**
```bash
# CSV 파일 확인
cat myportfolio/20251025.csv

종목코드,매수가격,수량,종목명
005930,71000,150,삼성전자  ✅ 수익률 계산 O
000660,,30,SK하이닉스      ❌ 수익률 계산 X (매수가 없음)
```

**해결 방법:**
1. CSV 파일에 매수가 입력
2. 또는 `--buy-prices` 옵션 사용
   ```bash
   uv run main.py --buy-prices 000660:120000 --web
   ```

---

### Q7. 액션이 "HOLD"인 종목이 많습니다. 정상인가요?

**A:**
네, 정상입니다. 이는 스마트 액션 결정 로직의 의도된 동작입니다.

**HOLD로 분류되는 경우:**
1. 매수/매도 점수가 모두 30점 미만 (약한 신호)
2. 점수 차이가 10점 미만 (애매한 신호)

```
예시:
- 매수 점수: 35점, 매도 점수: 30점
  → 차이 5점 < 10점 → HOLD

- 매수 점수: 25점, 매도 점수: 20점
  → 둘 다 30점 미만 → HOLD
```

**의미:**
- 명확한 신호가 없을 때는 관망이 최선
- 불필요한 거래 비용 절감
- 더 좋은 기회 대기

**조정 방법:**
- `config.py`에서 임계값 조정 가능
- 더 적극적: `ACTION_BUY_THRESHOLD = 20`, `ACTION_SCORE_DIFF_THRESHOLD = 5`
- 더 보수적: `ACTION_BUY_THRESHOLD = 40`, `ACTION_SCORE_DIFF_THRESHOLD = 15`

---

### Q8. 자동 스케줄링은 어떻게 설정하나요?

**A:**
macOS의 launchd를 사용합니다.

**설치:**
```bash
# 스케줄러 설치 (한 번만 실행)
./scripts/setup_scheduler.sh

# 상태 확인
./scripts/manage_scheduler.sh status
```

**실행 시간:**
- 월~금 오전 10시
- 월~금 오후 2시

**생성되는 파일:**
- 텍스트 리포트: `reports/stock_report_YYYYMMDD_HHMM.txt`
- JSON 리포트: `web/data/stock_report_YYYYMMDD_HHMM.json`
- 최신 리포트: `web/data/latest.json` (웹 대시보드용)

**로그 확인:**
```bash
./scripts/manage_scheduler.sh logs
```

---

### Q9. 웹 대시보드가 열리지 않습니다.

**A:**
다음을 확인해주세요:

**1. 포트 충돌 확인**
```bash
# 8002 포트가 이미 사용 중인지 확인
lsof -i :8002

# 사용 중이면 프로세스 종료
kill -9 <PID>
```

**2. 수동으로 웹서버 시작**
```bash
cd web
python3 -m http.server 8002
```

**3. 브라우저 직접 열기**
```
http://localhost:8002/dashboard.html
```

**4. JSON 파일 확인**
```bash
# 리포트 파일이 생성되었는지 확인
ls -lh web/data/latest.json
```

---

### Q10. 테스트는 어떻게 실행하나요?

**A:**
pytest를 사용합니다.

**전체 테스트 실행:**
```bash
uv run pytest
```

**커버리지 포함:**
```bash
uv run pytest --cov=src --cov-report=html
```

**특정 테스트만 실행:**
```bash
# 시나리오 테스트만
uv run pytest tests/test_scenarios.py

# 특정 테스트 함수만
uv run pytest tests/test_scenarios.py::TestStopLossScenarios::test_stop_loss_triggered_at_7_percent
```

**성능 테스트:**
```bash
uv run python scripts/performance_test.py
```

---

## 주의사항

### 투자 책임

⚠️ **이 앱은 투자 참고용이며, 실제 투자 결정은 본인의 판단에 따라야 합니다.**

- 분석 결과는 과거 데이터 기반이므로 미래 수익을 보장하지 않습니다
- 기술적 분석은 여러 분석 방법 중 하나일 뿐입니다
- 펀더멘털, 뉴스, 시장 상황 등을 종합적으로 고려해야 합니다
- 투자에 따른 손실 책임은 투자자 본인에게 있습니다

### 리스크 관리

**1. 손절가 준수**
- 자동 계산된 손절가를 반드시 설정하세요
- 감정적 판단으로 손절가를 어기지 마세요
- 손실이 커지기 전에 빠르게 대응하세요

**2. 분산 투자**
- 한 종목에 전체 자금을 투자하지 마세요
- 포트폴리오 다각화로 리스크를 분산하세요
- 고변동성 종목은 소액으로 투자하세요

**3. 포지션 크기 관리**
- 각 종목별 투자 비중을 제한하세요 (예: 10% 이하)
- 고변동성 종목은 더 작은 비중 (예: 5% 이하)
- 총 투자금은 여유 자금으로만 하세요

**4. 감정 관리**
- 욕심과 공포를 배제하고 기계적으로 대응하세요
- 신호가 없으면 거래하지 마세요 (HOLD)
- 무리한 추격매수를 피하세요

### 데이터 제한

**FinanceDataReader 제한사항:**
- 데이터 제공사 정책에 따라 제한이 있을 수 있습니다
- 실시간 데이터가 아닐 수 있습니다 (최대 15분 지연)
- 장 마감 후 데이터가 가장 정확합니다

**권장 사용 시간:**
- 장 마감 후 (오후 3:30 이후)
- 장 시작 전 (오전 9시 전)
- 점심 시간 (12:00~13:00)

---

## 지원 및 피드백

### 문제 보고

GitHub Issues를 통해 버그나 개선 사항을 보고해주세요:
- Repository: `<your-repository-url>`

### 기능 요청

새로운 기능이나 개선 사항이 있다면 Issues에 남겨주세요:
- 어떤 기능이 필요한가요?
- 왜 필요한가요?
- 어떻게 사용할 계획인가요?

### 문서 개선

이 가이드에서 불명확하거나 추가가 필요한 내용이 있다면 알려주세요.

---

**마지막 업데이트**: 2025-10-25
**Phase**: 1 (변동성 분석 및 시장 필터)
**버전**: v0.1.0
